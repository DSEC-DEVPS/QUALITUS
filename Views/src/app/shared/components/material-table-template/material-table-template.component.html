<div class="example-container mat-elevation-z8">
  <!--  
  @if (isLoadingResults || isRateLimitReached) {
    <div class="example-loading-shade">
      @if (isLoadingResults) {
        <mat-spinner></mat-spinner>
      }
      @if (isRateLimitReached) {
        <div class="example-rate-limit-reached">
          GitHub's API rate limit has been reached. It will be reset in one minute.
        </div>
      }
    </div>
  }
-->
  <div class="example-table-container">
    <table mat-table [dataSource]="datasource" class="example-table">
      <!-- Number Column -->
      <ng-container matColumnDef="titre">
        <th mat-header-cell *matHeaderCellDef>{{ 'titre' | titlecase }}</th>
        <td mat-cell *matCellDef="let row">{{ row.titre }}</td>
      </ng-container>

      <!-- Title Column -->
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef>{{ 'type' | titlecase }}</th>
        <td mat-cell *matCellDef="let row">{{ row.type }}</td>
      </ng-container>
      <!-- Created Column -->
      <ng-container matColumnDef="dateDebut">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
          {{ 'dateDebut' | titlecase }}
        </th>
        <td mat-cell *matCellDef="let row">{{ row.dateDebut | date: 'dd-MM-yyy à hh:mm' }}</td>
      </ng-container>

      <ng-container matColumnDef="dateFin">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
          {{ 'dateFin' | titlecase }}
        </th>
        <td mat-cell *matCellDef="let row">{{ row.dateFin | date: 'dd-MM-yyy à hh:mm' }}</td>
      </ng-container>
      <ng-container matColumnDef="Gestionnaire">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
          {{ 'Gestionnaire' | titlecase }}
        </th>
        <td mat-cell *matCellDef="let row">{{ row.Gestionnaire }}</td>
      </ng-container>
      <!-- State Column -->
      <ng-container matColumnDef="extention">
        <th mat-header-cell *matHeaderCellDef>extention</th>
        <td mat-cell *matCellDef="let row" class="text-center">
          @if (row.extention === '.pdf') {
            <img [src]="tableau_extention[0]" class="img_extention" alt="pdf" />
          } @else {
            <img [src]="tableau_extention[0]" class="img_extention" alt="pdf" />
          }
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        (click)="dispalay_fiche(row.id)"
      ></tr>
    </table>
  </div>

  <mat-paginator
    [length]="resultsLength"
    [pageSize]="5"
    aria-label="Select page of GitHub search results"
  ></mat-paginator>
</div>

<!-- Copyright 2025 Google LLC. All Rights Reserved.
    Use of this source code is governed by an MIT-style license that
    can be found in the LICENSE file at https://angular.io/license -->
